{% load i18n %}
{% load static %}

<!DOCTYPE html>
<html lang="en">
    <head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="{% static 'css/output.css' %}" rel="stylesheet">
        <title>
            {% block head_title %}{% endblock head_title %}
        </title>
        {% block extra_head %}{% endblock extra_head %}
    </head>
    <body class="bg-gray-50 text-gray-800">
        {% block body %}
            {% if messages %}
                <div class="container mx-auto mt-4 px-4">
                    <div class="bg-yellow-50 border-l-4 border-yellow-400 text-yellow-800 p-4 rounded shadow-md" role="alert">
                        <p class="font-bold mb-2">{% trans "Messages:" %}</p>
                        <ul class="list-disc pl-5 space-y-1">
                            {% for message in messages %}<li>{{ message }}</li>{% endfor %}
                        </ul>
                    </div>
                </div>
            {% endif %}
            <nav class="bg-blue-600 p-4 shadow-lg">
                <div class="container mx-auto flex justify-between items-center">
                    <span class="text-white font-semibold text-lg">{% trans "Menu:" %}</span>
                    <ul class="flex space-x-6 text-white">
                        {% if user.is_authenticated %}
                            {% url 'account_email' as email_url %}
                            {% if email_url %}
                                <li>
                                    <a href="{{ email_url }}" class="hover:underline">{% trans "Change Email" %}</a>
                                </li>
                            {% endif %}
                            {% url 'account_change_password' as change_password_url %}
                            {% if change_password_url %}
                                <li>
                                    <a href="{{ change_password_url }}" class="hover:underline">{% trans "Change Password" %}</a>
                                </li>
                            {% endif %}
                            {% url 'mfa_index' as mfa_url %}
                            {% if mfa_url %}
                                <li>
                                    <a href="{{ mfa_url }}" class="hover:underline">{% trans "Two-Factor Authentication" %}</a>
                                </li>
                            {% endif %}
                            {% url 'usersessions_list' as usersessions_list_url %}
                            {% if usersessions_list_url %}
                                <li>
                                    <a href="{{ usersessions_list_url }}" class="hover:underline">{% trans "Sessions" %}</a>
                                </li>
                            {% endif %}
                            {% url 'account_logout' as logout_url %}
                            {% if logout_url %}
                                <li>
                                    <a href="{{ logout_url }}" class="hover:underline">{% trans "Sign Out" %}</a>
                                </li>
                            {% endif %}
                        {% else %}
                            {% url 'account_login' as login_url %}
                            {% if login_url %}
                                <li>
                                    <a href="{{ login_url }}" class="hover:underline">{% trans "Sign In" %}</a>
                                </li>
                            {% endif %}
                            {% url 'account_signup' as signup_url %}
                            {% if signup_url %}
                                <li>
                                    <a href="{{ signup_url }}" class="hover:underline">{% trans "Sign Up" %}</a>
                                </li>
                            {% endif %}
                        {% endif %}
                    </ul>
                </div>
            </nav>
            <main class="container mx-auto mt-8 px-4">
                <div class="bg-white p-8 rounded-lg shadow-lg">
                    {% block content %}{% endblock content %}
                </div>
            </main>
        {% endblock body %}
        {% block extra_body %}{% endblock extra_body %}
    </body>
</html>
